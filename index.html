<form id="visaForm">
  <input type="text" name="name" placeholder="Name" required />
  <input type="email" name="email" placeholder="Email" required />
  <input type="text" name="passport" placeholder="Passport No." required />
  <input type="text" name="visa_type" placeholder="Visa Type" required />
  <input type="text" name="status" placeholder="Status" />
  <button type="submit">Submit</button>
</form>

<script>
  document.getElementById("visaForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const form = e.target;
    const formData = new FormData(form);
    const jsonData = {};

    formData.forEach((value, key) => {
      jsonData[key] = value;
    });

    try {
      const response = await fetch("visa-elite-admin-portal-pykl0uwg3-khoso74s-projects.vercel.app", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(jsonData)
      });

      const result = await response.json();
      if (result.success) {
        alert("Submitted successfully!");
        form.reset();
      } else {
        alert("Submission failed: " + result.message);
      }
    } catch (error) {
      alert("Error: " + error.message);
    }
  });
</script>
